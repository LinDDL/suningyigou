{"version":3,"sources":["login.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.js","sourcesContent":[";$(function(){\r\n    //选择登陆方式\r\n    $(\".tab-item\").on(\"click\",function(){\r\n        $(this).addClass(\"on\").siblings(\".tab-item\").removeClass(\"on\");\r\n        console.log($(this).index())\r\n        if($(this).index()===0){\r\n            $(this).parent().siblings(\".scan-login\").css(\"display\",\"block\").siblings(\".pc-login\").css(\"display\",\"none\")\r\n        }\r\n        if($(this).index()===1){\r\n            $(this).parent().siblings(\".pc-login\").css(\"display\",\"block\").siblings(\".scan-login\").css(\"display\",\"none\")\r\n        }\r\n    })\r\n    //二维码特效\r\n    $(\".scan-box\").on(\"mouseenter\",function(){\r\n        $(\".qrcode\").addClass(\"edge\").siblings(\".phone-scan\").css(\"display\",\"block\");\r\n    })\r\n    $(\".scan-box\").on(\"mouseleave\",function(){\r\n        $(\".qrcode\").removeClass(\"edge\").siblings(\".phone-scan\").css(\"display\",\"none\");\r\n    })\r\n    //选择登陆\r\n    $(\".login-switch\").on(\"click\",function(){\r\n        $(\".username-login\").toggle();\r\n        $(\".phone-login\").toggle();\r\n    })\r\n    //聚焦\r\n    $(\".input-box\").on(\"click\",function(){\r\n        $(this).children(\"label\").css(\"display\",\"none\");\r\n        // $(this).children(\"input\")\r\n        // .blur(function(){\r\n        //     $(this).siblings(\"label\").css(\"display\",\"block\")\r\n        // })\r\n    })\r\n   //登陆\r\n   $(\"#submit\").on(\"click\",login);\r\n   function login(){\r\n    var username=$(\"#userName\").val();\r\n    var password=$(\"#password\").val();\r\n    var options={\r\n        url:'http://localhost:8001/api/users/login',\r\n        type:\"POST\",\r\n        data:{\r\n            username:username,\r\n            password:password\r\n        }\r\n       \r\n    };\r\n    $.ajax(options)\r\n    .then(function(res){\r\n        var reg=/^(13|14|15|17|18)\\d{9}$/g;\r\n        if(reg.test(username)==true){\r\n            if(res.status==\"success\"){\r\n                setTimeout(function(){\r\n                    location.href=\"http://localhost:8001/home.html\";\r\n                },3000) \r\n            }\r\n        }else{\r\n            if(reg.test(username)!=true){\r\n                $(\".email-list\").removeClass(\"hide\").html(\"用户名或密码错误\");\r\n            }else{\r\n                $(\".email-list\").addClass(\"hide\").html(\"用户名或密码错误\");\r\n            }\r\n        }\r\n    },function(err){\r\n        console.log(err,\"错误\")\r\n    })\r\n   }\r\n})"]}