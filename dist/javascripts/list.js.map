{"version":3,"sources":["list.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.js","sourcesContent":[";$(function(){\r\n    //商品分类显示隐藏\r\n    $(\".index-all-hook\").on(\"mouseenter\",function(){\r\n        $(\".index-sort-list-wrapper\").css(\"display\",\"block\");\r\n    })\r\n    setTimeout(function(){\r\n        $(\".index-all-hook\").on(\"mouseleave\",function(){\r\n            $(\".index-sort-list-wrapper\").css(\"display\",\"none\");\r\n        })\r\n    },2000)\r\n    $(\".index-sort-list-wrapper\").on(\"mouseenter\",function(){\r\n        $(\".index-sort-list-wrapper\").css(\"display\",\"block\");\r\n    });\r\n    $(\".index-sort-list-wrapper\").on(\"mouseleave\",function(){\r\n        $(\".index-sort-list-wrapper\").css(\"display\",\"none\");\r\n    });\r\n    //品牌特效\r\n    $(\".s-brand\").hover(function(){\r\n        $(this).addClass(\"active\");\r\n        $(this).children().children(\".b-text\").css({\r\n            \"top\":3,\r\n        });\r\n    },function(){\r\n        $(this).children().children(\".b-text\").css({\r\n            \"top\":\"100%\",\r\n        });\r\n        $(this).removeClass(\"active\");\r\n    })\r\n   \r\n    //加载数据，渲染页面\r\n    function PoP(){};\r\n    $.extend(PoP.prototype,{\r\n        init:function(){\r\n            this.general=$(\".general\");\r\n            this.getData();\r\n            this.bindEvent();\r\n        },\r\n        getData:function(){\r\n            var options={\r\n                url:\"http://localhost:8001/json/goods.json\",\r\n                type:\"GET\",\r\n                dataType:\"json\",\r\n            };\r\n            $.ajax(options)\r\n            .then(function(res){\r\n                this.renderPages(res);\r\n            }.bind(this))\r\n        },\r\n        renderPages:function(data){\r\n            var html=\"\";\r\n            for(var i=0;i<data.length;i++){\r\n                html+=`\r\n                <li  class=\"item-wrap mobileProduct\" >\r\n                <div class=\"item-bg \">\r\n                    <div class=\"product-box\">\r\n                        <input type=\"hidden\" class=\"hidenInfo\">\r\n                        <div class=\"res-img\">\r\n                            <div class=\"img-block\">\r\n                            <a href=\"javascript:void(0)\" class=\"sellPoint\"  data-id=${data[i].sid}>\r\n                                    <img alt=\"【热卖爆品】Apple iPhone XS Max 256GB 金色 移动联通电信4G手机 双卡双待\" src=\"${data[i].adSrc}\">\r\n                                    <i class=\"rt\"><img src=\"//image.suning.cn/uimg/pcms/label05/199118557640820508210400_05.png\"></i>\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"focus-box disable-scroll\">\r\n                                <a href=\"javascript:void(0)\" class=\"btn-l disabled\">\r\n                                    <b></b>\r\n                                </a> \r\n                                <a href=\"javascript:void(0);\" class=\"btn-r\">\r\n                                    <b></b>\r\n                                </a>\r\n                                <div class=\"focus-img\">\r\n                                    <dl style=\"width: 120px;\" class=\"10606649862subCode\">\r\n                                        <dd>\r\n                                            <a href=\"javascript:void(0)\">\r\n                                                <img width=\"32\" height=\"32\" src=\"${data[i].adSrc}\">\r\n                                            </a>\r\n                                        </dd>\r\n                                        <dd>\r\n                                            <a href=\"javascript:void(0)\">\r\n                                                <img width=\"32\" height=\"32\" src=\"${data[i].adSrc}\">\r\n                                            </a>\r\n                                        </dd>\r\n                                        <dd>\r\n                                            <a href=\"javascript:void(0)\"  class=\"select\">\r\n                                                <img width=\"32\" height=\"32\" src=\"${data[i].adSrc}\">\r\n                                            </a>\r\n                                        </dd>\r\n                                    </dl>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"res-info\">\r\n                            <div class=\"price-box\">\r\n                                <span class=\"def-price\">\r\n            <i>¥</i>${data[i].tPrice}</span>\r\n                            </div>\r\n                            <div class=\"title-selling-point\">\r\n                                <a title=\"${data[i].sellpoint}\" href=\"javascript:void(0)\">${data[i].sellpoint}\r\n                                <em style=\"\">${data[i].title}</em>\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"info-config\" title=\" 256GB |6.1英寸以上\">\r\n                                <em> 256GB <i>|</i>6.1英寸以上</em>\r\n                            </div>\r\n                            <div class=\"evaluate-old clearfix\">\r\n                                <div class=\"info-evaluate\">\r\n                                <a   href=\"javascript:void(0)\"><i>7.1万+</i>评价</a>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"store-stock\">\r\n                                <a href=\"javascript:void(0);\" class=\"store-class zy\">苏宁自营</a>\r\n                            </div>\r\n                            <div class=\"sales-label\" ishotbrief=\"false\">\r\n                                <span><i>大聚惠</i></span>\r\n                                <span class=\"\"><i>赠品</i><em></em></span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"res-opt one-third\">\r\n                            <a href=\"javascript:void(0);\" class=\"btn-db\"><i></i><em>取消</em>对比</a>\r\n                            <a  href=\"javascript:void(0);\"  class=\"btn-sc\"><i></i><em>已</em>收藏</a>\r\n                            <input type=\"hidden\" value=\"1\" class=\"cart-ipt\">\r\n                            <input type=\"hidden\" value=\"1\" class=\"ajaxSuccess\">\r\n                            <a href=\"javascript:void(0)\" class=\"btn-gwc\" data-id=${data[i].sid}><i></i>加入购物车</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n                `\r\n            }\r\n            this.general.html(html);\r\n        },\r\n        bindEvent:function(){\r\n            $(\".product-list ul\").on(\"click\",\".sellPoint\",this.saveCookie)\r\n            //商品列表效果\r\n            $(\".general\").on(\"mouseenter\",\".item-wrap\",function(){\r\n                $(this).addClass(\"on\")\r\n            });\r\n            $(\".general\").on(\"mouseleave\",\".item-wrap\",function(){\r\n                $(this).removeClass(\"on\")\r\n            });\r\n            //存储cookie\r\n        },\r\n        saveCookie:function(){\r\n            var a=$(\".general .sellPoint\");\r\n            console.log($(this),a);\r\n            \r\n            if(a.index($(this))!=-1){\r\n                $.cookie(\"dataId\",$(this).attr(\"data-id\"));\r\n                location.href=\"detail.html\"\r\n            }\r\n        }\r\n    })\r\n    new PoP().init();\r\n})\r\n\r\n//购物车添加数据\r\n;$(function(){\r\n    function Car(){};\r\n    $.extend(Car.prototype,{\r\n        init(){\r\n            this.box=$(\".general\");\r\n            this.getData();\r\n            this.bindEvent();\r\n        },\r\n        getData(){\r\n            var options={\r\n                url:\"http://localhost:8001/json/goods.json\",\r\n                type:\"GET\",\r\n                dataType:\"json\",\r\n            };\r\n            $.ajax(options)\r\n            .then(function(res){\r\n               this.goodslist=res;\r\n            }.bind(this))\r\n        },\r\n        bindEvent(){\r\n             this.box.on(\"click\",\".btn-gwc\",this.hanldeCarClick.bind(this))\r\n        },\r\n        hanldeCarClick(event){\r\n            var e=event||window.event;\r\n            var target=e.target||e.srcElement;\r\n            var sid=$(target).attr(\"data-id\");\r\n            var goods=this.findJson(sid)[0];\r\n            this.addCar(goods,sid)\r\n        },\r\n        addCar(goods,sid){\r\n            $.extend(goods,{count:1});\r\n            var sgoods=JSON.stringify(goods);\r\n            if(!localStorage.cart2){\r\n                localStorage.setItem(\"cart2\",`[${sgoods}]`);\r\n                return false;\r\n            };\r\n            var ogoods=JSON.parse(localStorage.cart2);\r\n            if(!this.hasId(ogoods,sid)){\r\n                ogoods.push(goods);\r\n            };\r\n            localStorage.setItem(\"cart2\",JSON.stringify(ogoods))\r\n\r\n        },\r\n        findJson(sid){\r\n            return this.goodslist.filter(function(item){\r\n                return item.sid === sid;\r\n            })\r\n        }\r\n       ,\r\n        hasId(goods,sid){\r\n            for(var i=0;i<goods.length;i++){\r\n                if(goods[i].sid === sid){\r\n                    goods[i].count++;\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    })\r\n    new Car().init();\r\n   \r\n})\r\n \r\n\r\n"]}