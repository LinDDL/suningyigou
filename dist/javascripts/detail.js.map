{"version":3,"sources":["detail.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.js","sourcesContent":[";$(function(){\r\n    //二维码的显示\r\n    $(\".mainbtns\").on(\"mouseenter\",\".q-bottom\",function(){\r\n        $(\".qrc-wrapper\").addClass(\"extend-up\")\r\n        $(this).find(\".fa\").removeClass(\"fa-angle-down\").addClass(\"fa-angle-up\")\r\n    })\r\n    $(\".mainbtns\").on(\"mouseleave\",\".q-bottom\",function(){\r\n        $(\".qrc-wrapper\").removeClass(\"extend-up\")\r\n        $(this).find(\".fa\").removeClass(\"fa-angle-up\").addClass(\"fa-angle-down\")\r\n    })\r\n    //颜色选中\r\n    $(\".proattr-radio ul\").on(\"click\",\"li\",function(){\r\n        $(this).addClass(\"selected\")\r\n        .siblings(\"li\").removeClass(\"selected\")\r\n    })\r\n    //选项卡\r\n    var obj={\r\n        \"tabareaIndex\":0\r\n    }\r\n    $(\".tabarea-items li\").on(\"click\",function(){\r\n        $(this).addClass(\"current\").siblings(\"li\").removeClass(\"current\");\r\n        obj.tabareaIndex=$(this).index();\r\n        $(\".box img\").eq(obj.tabareaIndex).addClass(\"showimg\").siblings(\"img\").removeClass(\"showimg\")\r\n    })\r\n    //选择小图改变大图\r\n    $(\".imgzoom-thumb-main ul\").on(\"mouseenter\",\"li\",function(){\r\n        var src=$(this).find(\"img\").attr(\"src\");\r\n        $(this).addClass(\"current\").siblings(\"li\").removeClass(\"current\")\r\n        $(\".view-img img\").attr(\"src\",src);\r\n        $(\".imgzoom-pop img\").attr(\"src\",src);\r\n    })\r\n    //放大镜\r\n    function Tobig(){};\r\n    $.extend(Tobig.prototype,{\r\n        init(){\r\n            this.box=$(\".imgzoom-main\");\r\n            this.small=$(\".view-img\");\r\n            this.mark=$(\".imgzoom-shot\");\r\n            this.big=$(\".imgzoom-pop\");\r\n            this.bindEvent();\r\n        },\r\n        bindEvent(){\r\n            this.box.on(\"mouseenter\",this.showPop.bind(this));\r\n            this.box.on(\"mouseleave\",this.hidePop.bind(this));\r\n            this.mark.on(\"mousemove\",this.move.bind(this))\r\n        },\r\n        showPop(){\r\n            this.mark.css(\"opacity\",\".3\");\r\n            this.big.css(\"display\",\"block\");\r\n        },\r\n        hidePop(){\r\n            this.mark.css(\"opacity\",\"0\");\r\n            this.big.css(\"display\",\"none\");\r\n        },\r\n        move(event){\r\n            let e=event||window.event;\r\n            let left=e.pageX - this.box.offset().left- this.mark.width() /2;\r\n            let top=e.pageY - this.box.offset().top - this.mark.height() /2;\r\n            if(left<0){\r\n                left=0;\r\n            }else if(left >= this.small.width()-this.mark.width()){\r\n                left=this.small.width()-this.mark.width();\r\n            }else{\r\n                left=left;\r\n            }\r\n            if(top<0){\r\n                top=0;\r\n            }else if(top >= this.small.height() - this.mark.height()){\r\n                top=this.small.height() - this.mark.height();\r\n            }else{\r\n                top=top;\r\n            }\r\n            this.mark.css({\"left\":left})\r\n            this.mark.css({\"top\":top})\r\n            var x=left*2;\r\n            var y=top*2;\r\n            this.big.children().css({\"left\": -x +\"px\"});\r\n            this.big.children().css({\"top\": -y +\"px\"});\r\n        }\r\n    })\r\n    new Tobig().init();\r\n});\r\n;$(function(){\r\n    function Yangxin(){};\r\n    $.extend(Yangxin.prototype,{\r\n        init(){\r\n            this.btnbox=$(\".mainbtns\")\r\n            this.getData();\r\n            this.bindEvent();\r\n        },\r\n        getData(){\r\n            var options={\r\n                url:\"http://localhost:8001/json/goods.json\",\r\n                type:'GET',\r\n                dataType:\"json\"\r\n            };\r\n            $.ajax(options)\r\n            .then(function(res){\r\n                this.goodslist=res;\r\n                this.renderPage(res);\r\n            }.bind(this))\r\n        },\r\n        renderPage(data){\r\n            var sid=$.cookie(\"dataId\");\r\n            var imgsrc=\"\";\r\n            var title=\"\";\r\n            var price=\"\";\r\n            var btnbox='';\r\n            for(var i=0;i<data.length;i++){\r\n                if(data[i].sid===sid){\r\n                    imgsrc=`\r\n                        <img alt=\"【热卖爆品】Apple iPhone XS Max 256GB 金色 移动联通电信4G手机 双卡双待\" src=\"${data[i].adSrc}\"> \r\n                    `;\r\n                    title=`\r\n                    <span class=\"zy\" id=\"itemNameZy\">自营</span>\r\n                    ${data[i].title}\r\n                    `;\r\n                    price=`\r\n                    <span class=\"mainprice\">\r\n                        <i>¥</i>\r\n                        ${data[i].tPrice}\r\n                    </span>\r\n                    `\r\n                    btnbox=`\r\n                    <a href=\"javascript:void(0)\" class=\"btn-dark-buy\">立即购买</a>\r\n                    <a href=\"javascript:void(0)\" class=\"btn-orange-buy\" data-id=${data[i].sid}>\r\n                        <i></i>\r\n                        加入购物车\r\n                    </a>\r\n                    <div class=\"qrcode-panel\">\r\n                        <div class=\"qrc-wrapper  \" > \r\n                            <img onerror=\"javascript:$('#qrCode').hide();\" class=\"b-img lazy-loading\" src=\"//code.suning.cn/pc/build.do?longUrl=687474703a2f2f632e6d2e73756e696e672e636f6d2f6368616e6e656c7761702e68746d3f61707069643d31267061636b6e76657273696f6e3d313331266368616e6e656c636f64653d313030363126646f776e666c61673d312675746d5f736f757263653d7172636f64652675746d5f6d656469756d3d312675746d5f636f6e74656e743d343030302675746d5f7465726d3d30322675746d5f63616d706169676e3d26616454797065436f64653d3130313326616449643d31303630363634393836325f30303030303030303030266368616e6e656c747970653d30362673746f72653d343030305f30315f2670726f64756374547970653d30&amp;bizCode=i9seHn\"> \r\n                        </div>\r\n                        <div class=\"q-bottom\"> \r\n                            <span class=\"s-img\"></span> \r\n                            <div class=\"q-text one-row\">\r\n                                <div class=\"cli-buy txt\">扫一扫购买</div>\r\n                            </div> \r\n                            <i class=\"ng-iconfont fa fa-angle-down\"></i> \r\n                        </div>\r\n                    </div>\r\n                    `\r\n                }\r\n            }\r\n            $(\"#bigImg\").html(imgsrc);\r\n            $(\".first\").html(imgsrc);\r\n            $(\".imgzoom-pop\").html(imgsrc);\r\n            $(\"#itemDisplayName\").html(title);\r\n            $(\".price-promo dd\").html(price);\r\n            $(\".mainbtns\").html(btnbox);\r\n        },\r\n        bindEvent(){\r\n            this.btnbox.on(\"click\",\".btn-orange-buy\",this.addCar.bind(this));\r\n        },\r\n        addCar(event){\r\n            var e=event||window.event;\r\n            var target=e.target||e.srcElement;\r\n            var sid=$(target).attr(\"data-id\");\r\n            var goods=this.findJson(sid)[0];\r\n            $.extend(goods,{count:1});\r\n            var sgoods=JSON.stringify(goods);\r\n            if(!localStorage.cart2){\r\n                localStorage.setItem(\"cart2\",`[${sgoods}]`);\r\n                return false;\r\n            };\r\n            var ogoods=JSON.parse(localStorage.cart2);\r\n            if(!this.hasId(ogoods,sid)){\r\n                ogoods.push(goods);\r\n            };\r\n            localStorage.setItem(\"cart2\",JSON.stringify(ogoods))\r\n\r\n        },\r\n        findJson(sid){\r\n            return this.goodslist.filter(function(item){\r\n                return item.sid===sid;\r\n            })\r\n        },\r\n        hasId(goods,sid){\r\n            for(var i=0;i<goods.length;i++){\r\n                if(goods[i].sid === sid){\r\n                    goods[i].count++;\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n    })\r\n    new Yangxin().init();\r\n})\r\n\r\n;$(function(){\r\n})"]}